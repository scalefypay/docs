<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Documentação oficial da API ScalefyPay - Gateway de pagamento completo">
    <title>ScalefyPay API Documentation</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1 class="logo">ScalefyPay</h1>
                <p class="version">API v2</p>
            </div>
            
            <nav class="nav-menu">
                <a href="#introducao" class="nav-item active">Introdução</a>
                <a href="#autenticacao" class="nav-item">Autenticação</a>
                
                <div class="nav-section">SDK JavaScript</div>
                <a href="#sdk-instalacao" class="nav-item">Instalação</a>
                <a href="#sdk-tokenizacao" class="nav-item">Tokenização</a>
                
                <div class="nav-section">Endpoints</div>
                <a href="#criar-fatura" class="nav-item">Criar Fatura</a>
                <a href="#consultar-fatura" class="nav-item">Consultar Fatura</a>
                <a href="#trocar-token" class="nav-item">Trocar Token</a>
                
                <div class="nav-section">Referência</div>
                <a href="#status-faturas" class="nav-item">Status das Faturas</a>
                <a href="#codigos-erro" class="nav-item">Códigos de Erro</a>
                <a href="#webhooks" class="nav-item">Webhooks</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="content">
            <!-- Introduction -->
            <section id="introducao" class="section">
                <h1>Documentação da API ScalefyPay</h1>
                <p class="lead">Gateway de pagamento completo com suporte a PIX e Cartão de Crédito.</p>
                
                <div class="info-card">
                    <h3>URL Base</h3>
                    <code class="inline-code">https://api.scalefypay.com</code>
                </div>
            </section>

            <!-- Authentication -->
            <section id="autenticacao" class="section">
                <h2>Autenticação</h2>
                <p>Todas as requisições à API devem incluir o header de autenticação:</p>
                
                <div class="code-block">
                    <div class="code-header">
                        <span>HTTP Header</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                    </div>
                    <pre><code>Authorization: Bearer &lt;token&gt;</code></pre>
                </div>
                
                <div class="alert alert-info">
                    <strong>Importante:</strong> O token de autenticação deve ser obtido através do painel administrativo ou via endpoint de autenticação.
                </div>
            </section>

            <!-- SDK JavaScript -->
            <section id="sdk-instalacao" class="section">
                <h2>SDK JavaScript (Frontend)</h2>
                <p>O SDK JavaScript permite a tokenização segura de cartões de crédito diretamente no navegador, garantindo conformidade com PCI DSS.</p>
                
                <h3>Instalação</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>HTML</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                    </div>
                    <pre><code>&lt;script type="module"&gt;
  import { createCh } from "https://scalefy.sfo3.cdn.digitaloceanspaces.com/sdk/v1/script.min.js";
&lt;/script&gt;</code></pre>
                </div>
            </section>

            <section id="sdk-tokenizacao" class="section">
                <h3>Tokenização de Cartão</h3>
                <p>Use o método <code class="inline-code">encrypt()</code> para tokenizar os dados do cartão antes de enviar para a API.</p>
                
                <h4>Parâmetros</h4>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Campo</th>
                                <th>Tipo</th>
                                <th>Obrigatório</th>
                                <th>Descrição</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>number</code></td>
                                <td>string</td>
                                <td>Sim</td>
                                <td>Número do cartão (sem espaços)</td>
                            </tr>
                            <tr>
                                <td><code>holder_name</code></td>
                                <td>string</td>
                                <td>Sim</td>
                                <td>Nome impresso no cartão</td>
                            </tr>
                            <tr>
                                <td><code>exp_month</code></td>
                                <td>string</td>
                                <td>Sim</td>
                                <td>Mês de expiração (MM)</td>
                            </tr>
                            <tr>
                                <td><code>exp_year</code></td>
                                <td>string</td>
                                <td>Sim</td>
                                <td>Ano de expiração (YYYY)</td>
                            </tr>
                            <tr>
                                <td><code>cvv</code></td>
                                <td>string</td>
                                <td>Sim</td>
                                <td>Código de segurança (3-4 dígitos)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h4>Exemplo de Uso</h4>
                <div class="code-block">
                    <div class="code-header">
                        <span>JavaScript</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                    </div>
                    <pre><code>import { createCh } from "https://scalefy.sfo3.cdn.digitaloceanspaces.com/sdk/v1/script.min.js";

const cardData = {
  number: "4111111111111111",
  holder_name: "João Silva",
  exp_month: "12",
  exp_year: "2025",
  cvv: "123"
};

const token = await createCh.encrypt(cardData);
console.log(token); // Use este token na criação da fatura</code></pre>
                </div>

                <h4>Resposta</h4>
                <div class="code-block">
                    <div class="code-header">
                        <span>JSON</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                    </div>
                    <pre><code>{
  "token": "tok_abc123xyz456..."
}</code></pre>
                </div>
            </section>

            <!-- Create Invoice -->
            <section id="criar-fatura" class="section">
                <h2>Criar Fatura</h2>
                <div class="endpoint-badge">
                    <span class="method post">POST</span>
                    <span class="path">/api/v2/invoices</span>
                </div>
                
                <p>Cria uma nova fatura para pagamento via PIX ou Cartão de Crédito.</p>

                <h3>Parâmetros do Body</h3>
                
                <h4>Nível Raiz</h4>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Campo</th>
                                <th>Tipo</th>
                                <th>Obrigatório</th>
                                <th>Descrição</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>method</code></td>
                                <td>string</td>
                                <td>Sim</td>
                                <td>Método de pagamento: <code>pix</code> ou <code>credit_card</code></td>
                            </tr>
                            <tr>
                                <td><code>currency</code></td>
                                <td>string</td>
                                <td>Sim</td>
                                <td>Moeda: <code>BRL</code> ou <code>USD</code></td>
                            </tr>
                            <tr>
                                <td><code>postback_url</code></td>
                                <td>string</td>
                                <td>Não</td>
                                <td>URL para receber notificações de mudança de status</td>
                            </tr>
                            <tr>
                                <td><code>payer</code></td>
                                <td>object</td>
                                <td>Sim</td>
                                <td>Dados do pagador</td>
                            </tr>
                            <tr>
                                <td><code>card</code></td>
                                <td>object</td>
                                <td>Condicional</td>
                                <td>Obrigatório se <code>method = credit_card</code></td>
                            </tr>
                            <tr>
                                <td><code>items</code></td>
                                <td>array</td>
                                <td>Sim</td>
                                <td>Lista de itens da fatura</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h4>Objeto <code>payer</code></h4>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Campo</th>
                                <th>Tipo</th>
                                <th>Obrigatório</th>
                                <th>Descrição</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>name</code></td>
                                <td>string</td>
                                <td>Sim</td>
                                <td>Nome completo do pagador</td>
                            </tr>
                            <tr>
                                <td><code>document</code></td>
                                <td>string</td>
                                <td>Sim</td>
                                <td>CPF ou CNPJ (apenas números)</td>
                            </tr>
                            <tr>
                                <td><code>email</code></td>
                                <td>string</td>
                                <td>Sim</td>
                                <td>E-mail do pagador</td>
                            </tr>
                            <tr>
                                <td><code>phone</code></td>
                                <td>string</td>
                                <td>Sim</td>
                                <td>Telefone com DDD</td>
                            </tr>
                            <tr>
                                <td><code>address</code></td>
                                <td>object</td>
                                <td>Sim</td>
                                <td>Endereço completo</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h4>Objeto <code>card</code></h4>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Campo</th>
                                <th>Tipo</th>
                                <th>Obrigatório</th>
                                <th>Descrição</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>token</code></td>
                                <td>string</td>
                                <td>Sim</td>
                                <td>Token gerado pelo SDK</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h4>Objeto <code>items</code></h4>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Campo</th>
                                <th>Tipo</th>
                                <th>Obrigatório</th>
                                <th>Descrição</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>name</code></td>
                                <td>string</td>
                                <td>Sim</td>
                                <td>Nome do item</td>
                            </tr>
                            <tr>
                                <td><code>quantity</code></td>
                                <td>integer</td>
                                <td>Sim</td>
                                <td>Quantidade</td>
                            </tr>
                            <tr>
                                <td><code>unit_price</code></td>
                                <td>integer</td>
                                <td>Sim</td>
                                <td>Preço unitário em centavos</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Exemplo de Request (PIX)</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>JSON</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                    </div>
                    <pre><code>{
  "method": "pix",
  "currency": "BRL",
  "postback_url": "https://seusite.com/webhook",
  "payer": {
    "name": "João Silva",
    "document": "12345678900",
    "email": "joao@example.com",
    "phone": "11999999999",
    "address": {
      "street": "Rua Exemplo",
      "number": "123",
      "complement": "Apto 45",
      "neighborhood": "Centro",
      "city": "São Paulo",
      "state": "SP",
      "zipcode": "01234567"
    }
  },
  "items": [
    {
      "name": "Produto Exemplo",
      "quantity": 2,
      "unit_price": 5000
    }
  ]
}</code></pre>
                </div>

                <h3>Exemplo de Request (Cartão de Crédito)</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>JSON</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                    </div>
                    <pre><code>{
  "method": "credit_card",
  "currency": "BRL",
  "postback_url": "https://seusite.com/webhook",
  "payer": {
    "name": "João Silva",
    "document": "12345678900",
    "email": "joao@example.com",
    "phone": "11999999999",
    "address": {
      "street": "Rua Exemplo",
      "number": "123",
      "complement": "Apto 45",
      "neighborhood": "Centro",
      "city": "São Paulo",
      "state": "SP",
      "zipcode": "01234567"
    }
  },
  "card": {
    "token": "tok_abc123xyz456..."
  },
  "items": [
    {
      "name": "Produto Exemplo",
      "quantity": 1,
      "unit_price": 10000
    }
  ]
}</code></pre>
                </div>

                <h3>Exemplo de Response</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>JSON</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                    </div>
                    <pre><code>{
  "invoice_id": "inv_123456789",
  "status": "pending",
  "method": "pix",
  "amount": 10000,
  "currency": "BRL",
  "qr_code_pix": "00020126580014br.gov.bcb.pix...",
  "qr_code_url": "https://api.scalefypay.com/qr/inv_123456789.png",
  "created_at": "2026-02-11T14:15:00Z",
  "expires_at": "2026-02-11T14:30:00Z"
}</code></pre>
                </div>
            </section>

            <!-- Get Invoice -->
            <section id="consultar-fatura" class="section">
                <h2>Consultar Fatura</h2>
                <div class="endpoint-badge">
                    <span class="method get">GET</span>
                    <span class="path">/api/v2/invoices</span>
                </div>
                
                <p>Consulta o status e detalhes de uma fatura existente.</p>

                <h3>Query Parameters</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Parâmetro</th>
                                <th>Tipo</th>
                                <th>Obrigatório</th>
                                <th>Descrição</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>id</code></td>
                                <td>string</td>
                                <td>Sim</td>
                                <td>ID da fatura</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Exemplo de Request</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>HTTP</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                    </div>
                    <pre><code>GET https://api.scalefypay.com/api/v2/invoices?id=inv_123456789
Authorization: Bearer &lt;token&gt;</code></pre>
                </div>

                <h3>Exemplo de Response</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>JSON</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                    </div>
                    <pre><code>{
  "invoice_id": "inv_123456789",
  "status": "paid",
  "method": "credit_card",
  "amount": 10000,
  "currency": "BRL",
  "paid_at": "2026-02-11T14:20:00Z",
  "payer": {
    "name": "João Silva",
    "email": "joao@example.com"
  },
  "items": [
    {
      "name": "Produto Exemplo",
      "quantity": 1,
      "unit_price": 10000
    }
  ]
}</code></pre>
                </div>

                <div class="alert alert-warning">
                    <strong>3D Secure:</strong> Para pagamentos com autenticação 3DS, a resposta incluirá o campo <code>url_3ds</code> com a URL de redirecionamento para autenticação.
                </div>
            </section>

            <!-- Exchange Token -->
            <section id="trocar-token" class="section">
                <h2>Trocar Token</h2>
                <div class="endpoint-badge">
                    <span class="method post">POST</span>
                    <span class="path">/api/v2/tokens/exchange</span>
                </div>
                
                <p>Troca um token temporário do SDK por um token persistente para transações recorrentes.</p>

                <h3>Request Body</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Campo</th>
                                <th>Tipo</th>
                                <th>Obrigatório</th>
                                <th>Descrição</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>temporary_token</code></td>
                                <td>string</td>
                                <td>Sim</td>
                                <td>Token temporário gerado pelo SDK</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Exemplo de Request</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>JSON</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                    </div>
                    <pre><code>{
  "temporary_token": "tok_temp_abc123..."
}</code></pre>
                </div>

                <h3>Exemplo de Response</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>JSON</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                    </div>
                    <pre><code>{
  "persistent_token": "tok_persist_xyz789...",
  "card_brand": "visa",
  "last_digits": "1111",
  "expires_at": "2025-12-31"
}</code></pre>
                </div>
            </section>

            <!-- Invoice Status -->
            <section id="status-faturas" class="section">
                <h2>Status das Faturas</h2>
                <p>Possíveis status de uma fatura:</p>
                
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Status</th>
                                <th>Descrição</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge badge-warning">pending</span></td>
                                <td>Aguardando pagamento</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-success">paid</span></td>
                                <td>Pagamento confirmado</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-danger">canceled</span></td>
                                <td>Fatura cancelada</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-secondary">expired</span></td>
                                <td>Prazo de pagamento expirado</td>
                            </tr>
                            <tr>
                                <td><span class="badge badge-danger">failed</span></td>
                                <td>Falha no processamento do pagamento</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Error Codes -->
            <section id="codigos-erro" class="section">
                <h2>Códigos de Erro</h2>
                <p>Códigos HTTP retornados pela API:</p>
                
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Código</th>
                                <th>Descrição</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>200</code></td>
                                <td>Requisição bem-sucedida</td>
                            </tr>
                            <tr>
                                <td><code>400</code></td>
                                <td>Requisição inválida (bad request)</td>
                            </tr>
                            <tr>
                                <td><code>401</code></td>
                                <td>Não autorizado (token inválido ou ausente)</td>
                            </tr>
                            <tr>
                                <td><code>404</code></td>
                                <td>Recurso não encontrado</td>
                            </tr>
                            <tr>
                                <td><code>422</code></td>
                                <td>Erro de validação nos campos enviados</td>
                            </tr>
                            <tr>
                                <td><code>500</code></td>
                                <td>Erro interno no servidor</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Webhooks -->
            <section id="webhooks" class="section">
                <h2>Postback (Webhook)</h2>
                <p>Quando o campo <code>postback_url</code> é configurado na criação da fatura, a API enviará uma requisição POST para essa URL sempre que o status da fatura mudar.</p>

                <h3>Payload do Webhook</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>JSON</span>
                        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                    </div>
                    <pre><code>{
  "invoice_id": "inv_123456789",
  "status": "paid",
  "payment_method": "pix",
  "amount": 10000,
  "currency": "BRL",
  "paid_at": "2026-02-11T14:20:00Z"
}</code></pre>
                </div>

                <div class="alert alert-info">
                    <strong>Dica:</strong> Seu endpoint deve responder com status HTTP 200 para confirmar o recebimento. A API tentará reenviar o webhook em caso de falha.
                </div>
            </section>

            <!-- Footer -->
            <footer class="footer">
                <p>ScalefyPay API Documentation - v2.0</p>
                <p>Desenvolvido com tecnologia moderna para GitHub Pages</p>
            </footer>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>
